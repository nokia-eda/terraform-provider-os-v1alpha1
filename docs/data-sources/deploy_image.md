---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "os-v1alpha1_deploy_image Data Source - os-v1alpha1"
subcategory: ""
description: |-
  
---

# os-v1alpha1_deploy_image (Data Source)





<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) name of the DeployImage
- `namespace` (String) the namespace scope in which to operate

### Optional

- `spec` (Attributes) Upgrade / downgrade images on targets.
This workflow can be used directly on a target or list of targets, or with selectors to select targets through labels.
It also supports tranches, which are groups of targets that can be upgraded together.
By default a set of checks are run before and after the image change, but this can be controlled via the checks field.
It also supports canaries, which are upgraded before any other targets. (see [below for nested schema](#nestedatt--spec))

### Read-Only

- `api_version` (String)
- `kind` (String)
- `metadata` (Attributes) (see [below for nested schema](#nestedatt--metadata))
- `status` (Attributes) Status of the imaging operation. (see [below for nested schema](#nestedatt--status))

<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Optional:

- `canaries` (List of String) List of node selectors to use to match canary nodes.
This matches labels on TopoNode resources, including those TopoNodes in the list of nodes that will be imaged.
Canary nodes are upgraded before any other nodes, and are used to test images before broader roll out.
This is a list of label expressions, e.g. ["eda.nokia.com/role=canary"].
- `checks` (Attributes) Configure pre and post checks. (see [below for nested schema](#nestedatt--spec--checks))
- `drains` (Attributes) Configure drains to gracefully drain traffic away from nodes before imaging. (see [below for nested schema](#nestedatt--spec--drains))
- `node_profile` (String) Destination profile to use for imaging.
This profile contains the image to deploy, and other configuration for the node.
- `node_selectors` (List of String) List of node selectors to select nodes to deploy images on.
This matches labels on TopoNode resources, including those TopoNodes in the list of nodes that will be imaged.
If no nodes are specified, and no node selectors are specified, all nodes in the given namespace will be selected.
This is a list of label expressions, e.g. ["eda.nokia.com/role=leaf"].
- `nodes` (List of String) List of nodes to deploy images on.
- `prompt` (List of String) Control when to prompt the user for input.
If any pre or post checks fail, the user will be prompted for input, but this may be used to prompt even if they're successful.
- `tranches` (Attributes List) List of tranches to use for imaging.
A tranche is a list of node selectors, and a name.
Tranches are upgraded in order, sequentially. (see [below for nested schema](#nestedatt--spec--tranches))

<a id="nestedatt--spec--checks"></a>
### Nested Schema for `spec.checks`

Optional:

- `checks` (List of String) Checks to run before (pre) and after (post) any image changes.
If none are specified, a default set of checks will be run.
- `force` (Boolean) Ignore result of pre and post checks, do not prompt on failure.
- `skip` (Boolean) Do not run any checks pre or post image change.


<a id="nestedatt--spec--drains"></a>
### Nested Schema for `spec.drains`

Optional:

- `minimum_wait_time_seconds` (Number) Seconds to wait before rebooting a node after it has been drained.
This is used to allow time for any traffic to drain away from the node before reboot.
- `skip` (Boolean) Do not run any drain operations. Nodes will be rebooted without attempting to gracefully drain them.


<a id="nestedatt--spec--tranches"></a>
### Nested Schema for `spec.tranches`

Optional:

- `name` (String) Name of the tranche.
This is used to identify the tranche in the UI and in logs.
- `node_selectors` (List of String) Node Selectors is a list of node selectors to select nodes to deploy images on in this tranche.
This matches labels on TopoNode resources, including those TopoNodes in the list of nodes that will be imaged.
This is a list of label expressions, e.g. ["eda.nokia.com/role=leaf"].



<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Read-Only:

- `annotations` (Map of String)
- `labels` (Map of String)
- `name` (String)
- `namespace` (String)


<a id="nestedatt--status"></a>
### Nested Schema for `status`

Read-Only:

- `details` (Attributes List) Per-node image deployment details. (see [below for nested schema](#nestedatt--status--details))
- `first_node_drained` (String) The time when the first node was drained.
- `first_node_rebooted` (String) The time when the first node was rebooted.
- `last_node_reboot_recovered` (String) The time when the last node recovered post reboot.
- `last_node_undrained` (String) The time when the last node was undrained.
- `result` (String) Result is the overall result of the image operation.
It can be one of the following values:
- "Success": All images were successfully deployed.
- "Failed": No images were successfully deployed.
- "PartialSuccess": Some images were successfully deployed, but not all.

<a id="nestedatt--status--details"></a>
### Nested Schema for `status.details`

Read-Only:

- `drained_time` (String) The time when the node was drained.
This is the time when the node was drained before the imaging operation.
- `new_node_profile` (String) The new profile of the node.
- `new_version` (String) The new version of the node.
- `node` (String) The name of the node this result is for.
- `post_check_successful` (Boolean) Indicates if post checks were successful for this node.
This is true if all post checks passed, false if any post checks failed.
- `pre_check_successful` (Boolean) Indicates if pre checks were successful for this node.
This is true if all pre checks passed, false if any pre checks failed.
- `previous_node_profile` (String) The previous profile of the node.
This is the node profile that was running before the imaging operation.
- `previous_version` (String) The previous version of the node.
This is the version of the image that was running before the imaging operation.
- `reboot_recovery_time` (String) The time when the node was recovered after reboot.
This is the time when the node was recovered after the imaging operation.
- `reboot_time` (String) The time when the node was rebooted.
This is the time when the node was rebooted during the imaging operation.
- `success` (Boolean) Indicates if the imaging operation was successful for this node.
This is true if the imaging operation was successful, false if it failed.
- `undrained_time` (String) The time when the node was undrained.
This is the time when the node was undrained after the imaging operation.
